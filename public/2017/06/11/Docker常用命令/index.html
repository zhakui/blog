<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Docker,Technology," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="å‰è¨€ä»æŠ€æœ¯è€å¤§é‚£é‡Œå¬è¯´äº†dockerï¼Œé—²ä¸‹æ¥ä¹‹åå°±ç®€å•äº†è§£äº†ä¸€ä¸‹ï¼Œå‘ç°çœŸçš„æ˜¯ä¸€ä¸ªå¥½ç”¨çš„ä¸å¾—äº†çš„å·¥å…·ã€‚é‚å‘¨æœ«å»å›¾ä¹¦é¦†æ‰¾äº†ä¸‹ç›¸å…³èµ„æ–™ï¼Œå­¦ä¹ ä¸‹å§¿åŠ¿ã€‚è¯´ä¸å®šå“ªå¤©ç”¨ä¸Šäº†å‘¢ğŸ˜ã€‚åœ¨çœ‹èµ„æ–™çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°æœ‰ä¸å°‘å‘½ä»¤éƒ½ä¸çŸ¥é“ä»€ä¹ˆæ„æ€ï¼Œæ‰€ä»¥å¹²è„†åšäº†ä¸€ä¸ªæ•´ç†ï¼Œä»¥å¤‡ä»¥åæŸ¥é˜…ã€‚psï¼šåœ¨dockerå‘½ä»¤åè¾“å…¥ -h å‚æ•°ï¼Œå¯æŸ¥çœ‹è¯¦ç»†å‘½ä»¤ã€‚æˆ‘ä¹Ÿæ˜¯å‚ç…§æŸæœ¬ä¹¦ä¸Šçš„å‘½ä»¤æ•´ç†çš„ï¼Œä¹Ÿä¸æ˜¯å¾ˆå…¨ï¼Œå¾…ä»¥åé‡åˆ°äº†ç»§ç»­è¡¥å……ã€‚  æ–‡ä¸­ =[] è¡¨ç¤º">
<meta name="keywords" content="Docker,Technology">
<meta property="og:type" content="article">
<meta property="og:title" content="Dockerå¸¸ç”¨å‘½ä»¤">
<meta property="og:url" content="http://zhkui.com/2017/06/11/Dockerå¸¸ç”¨å‘½ä»¤/index.html">
<meta property="og:site_name" content="ZhangKui&#x2F;Blog">
<meta property="og:description" content="å‰è¨€ä»æŠ€æœ¯è€å¤§é‚£é‡Œå¬è¯´äº†dockerï¼Œé—²ä¸‹æ¥ä¹‹åå°±ç®€å•äº†è§£äº†ä¸€ä¸‹ï¼Œå‘ç°çœŸçš„æ˜¯ä¸€ä¸ªå¥½ç”¨çš„ä¸å¾—äº†çš„å·¥å…·ã€‚é‚å‘¨æœ«å»å›¾ä¹¦é¦†æ‰¾äº†ä¸‹ç›¸å…³èµ„æ–™ï¼Œå­¦ä¹ ä¸‹å§¿åŠ¿ã€‚è¯´ä¸å®šå“ªå¤©ç”¨ä¸Šäº†å‘¢ğŸ˜ã€‚åœ¨çœ‹èµ„æ–™çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°æœ‰ä¸å°‘å‘½ä»¤éƒ½ä¸çŸ¥é“ä»€ä¹ˆæ„æ€ï¼Œæ‰€ä»¥å¹²è„†åšäº†ä¸€ä¸ªæ•´ç†ï¼Œä»¥å¤‡ä»¥åæŸ¥é˜…ã€‚psï¼šåœ¨dockerå‘½ä»¤åè¾“å…¥ -h å‚æ•°ï¼Œå¯æŸ¥çœ‹è¯¦ç»†å‘½ä»¤ã€‚æˆ‘ä¹Ÿæ˜¯å‚ç…§æŸæœ¬ä¹¦ä¸Šçš„å‘½ä»¤æ•´ç†çš„ï¼Œä¹Ÿä¸æ˜¯å¾ˆå…¨ï¼Œå¾…ä»¥åé‡åˆ°äº†ç»§ç»­è¡¥å……ã€‚  æ–‡ä¸­ =[] è¡¨ç¤º">
<meta property="og:updated_time" content="2017-09-08T10:19:34.427Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dockerå¸¸ç”¨å‘½ä»¤">
<meta name="twitter:description" content="å‰è¨€ä»æŠ€æœ¯è€å¤§é‚£é‡Œå¬è¯´äº†dockerï¼Œé—²ä¸‹æ¥ä¹‹åå°±ç®€å•äº†è§£äº†ä¸€ä¸‹ï¼Œå‘ç°çœŸçš„æ˜¯ä¸€ä¸ªå¥½ç”¨çš„ä¸å¾—äº†çš„å·¥å…·ã€‚é‚å‘¨æœ«å»å›¾ä¹¦é¦†æ‰¾äº†ä¸‹ç›¸å…³èµ„æ–™ï¼Œå­¦ä¹ ä¸‹å§¿åŠ¿ã€‚è¯´ä¸å®šå“ªå¤©ç”¨ä¸Šäº†å‘¢ğŸ˜ã€‚åœ¨çœ‹èµ„æ–™çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°æœ‰ä¸å°‘å‘½ä»¤éƒ½ä¸çŸ¥é“ä»€ä¹ˆæ„æ€ï¼Œæ‰€ä»¥å¹²è„†åšäº†ä¸€ä¸ªæ•´ç†ï¼Œä»¥å¤‡ä»¥åæŸ¥é˜…ã€‚psï¼šåœ¨dockerå‘½ä»¤åè¾“å…¥ -h å‚æ•°ï¼Œå¯æŸ¥çœ‹è¯¦ç»†å‘½ä»¤ã€‚æˆ‘ä¹Ÿæ˜¯å‚ç…§æŸæœ¬ä¹¦ä¸Šçš„å‘½ä»¤æ•´ç†çš„ï¼Œä¹Ÿä¸æ˜¯å¾ˆå…¨ï¼Œå¾…ä»¥åé‡åˆ°äº†ç»§ç»­è¡¥å……ã€‚  æ–‡ä¸­ =[] è¡¨ç¤º">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://zhkui.com/2017/06/11/Dockerå¸¸ç”¨å‘½ä»¤/"/>





  <title>Dockerå¸¸ç”¨å‘½ä»¤ | ZhangKui/Blog</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  















  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ZhangKui/Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://zhkui.com/2017/06/11/Dockerå¸¸ç”¨å‘½ä»¤/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhkui">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZhangKui/Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Dockerå¸¸ç”¨å‘½ä»¤</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-06-11T17:28:43+08:00">
                2017-06-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Server/" itemprop="url" rel="index">
                    <span itemprop="name">Server</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä»æŠ€æœ¯è€å¤§é‚£é‡Œå¬è¯´äº†dockerï¼Œé—²ä¸‹æ¥ä¹‹åå°±ç®€å•äº†è§£äº†ä¸€ä¸‹ï¼Œå‘ç°çœŸçš„æ˜¯ä¸€ä¸ªå¥½ç”¨çš„ä¸å¾—äº†çš„å·¥å…·ã€‚é‚å‘¨æœ«å»å›¾ä¹¦é¦†æ‰¾äº†ä¸‹ç›¸å…³èµ„æ–™ï¼Œå­¦ä¹ ä¸‹å§¿åŠ¿ã€‚è¯´ä¸å®šå“ªå¤©ç”¨ä¸Šäº†å‘¢ğŸ˜ã€‚åœ¨çœ‹èµ„æ–™çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°æœ‰ä¸å°‘å‘½ä»¤éƒ½ä¸çŸ¥é“ä»€ä¹ˆæ„æ€ï¼Œæ‰€ä»¥å¹²è„†åšäº†ä¸€ä¸ªæ•´ç†ï¼Œä»¥å¤‡ä»¥åæŸ¥é˜…ã€‚psï¼šåœ¨dockerå‘½ä»¤åè¾“å…¥ -h å‚æ•°ï¼Œå¯æŸ¥çœ‹è¯¦ç»†å‘½ä»¤ã€‚æˆ‘ä¹Ÿæ˜¯å‚ç…§æŸæœ¬ä¹¦ä¸Šçš„å‘½ä»¤æ•´ç†çš„ï¼Œä¹Ÿä¸æ˜¯å¾ˆå…¨ï¼Œå¾…ä»¥åé‡åˆ°äº†ç»§ç»­è¡¥å……ã€‚</p>
<blockquote>
<p>æ–‡ä¸­ =[] è¡¨ç¤ºè®¾ç½®é€‰é¡¹æ—¶å¯ä»¥è®¾ç½®ä¸åŒçš„å€¼ï¼Œå¹¶ä¸”å¯ä»¥å¤šæ¬¡ä½¿ç”¨ å¦‚ï¼š -p 8000:80 -p 8080:8080<br>å‘½ä»¤åé¢çš„ =false è¡¨ç¤ºé»˜è®¤å€¼ä¸º false =â€â€ è¡¨ç¤ºé»˜è®¤å€¼ä¸ºç©º<br>è‹¥ç”¨æˆ·ä¸å±äºdockerç»„ï¼Œå¯èƒ½éœ€è¦sudoæ‰§è¡Œ</p>
</blockquote>
<h1 id="dockeråŸºç¡€å‘½ä»¤"><a href="#dockeråŸºç¡€å‘½ä»¤" class="headerlink" title="dockeråŸºç¡€å‘½ä»¤"></a>dockeråŸºç¡€å‘½ä»¤</h1><blockquote>
<p>docker &lt;é€‰é¡¹&gt;&lt;å‘½ä»¤&gt;&lt;å‚æ•°&gt;</p>
</blockquote>
<p><code>--api-enable-cors=false</code> ä½¿ç”¨APIæ—¶ï¼Œå¯ç”¨CORSï¼ˆcross-origin resource sharingï¼‰<br><code>-b ã€--bridge=&quot;&quot;</code> ä½¿ç”¨äº‹å…ˆåˆ›å»ºçš„ç½‘æ¡¥æ¥å£ã€‚è‹¥è®¾ç½®ä¸ºnoneï¼Œåˆ™ä¸åœ¨å®¹å™¨å†…ä½¿ç”¨ç½‘ç»œ<br><code>--bip=&quot;&quot;</code> ä½¿ç”¨CIDRæ ‡è®°æ³•è®¾ç½®docker çš„IPå¸¦å®½ã€‚è¯¥é€‰é¡¹ä¸èƒ½ä¸-bé€‰é¡¹åŒæ—¶ä½¿ç”¨<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">å¦‚ï¼š`-bip=<span class="string">"192.168.0.0/24"</span>`</div></pre></td></tr></table></figure></p>
<p><code>-D ã€--debug</code> å¯ç”¨è°ƒè¯•æ¨¡å¼<br><code>-d ã€--deamon=false</code> ä»¥å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼è¿è¡Œ<br><code>--dns</code> è®¾ç½®dockerè¦ä½¿ç”¨çš„DNSæœåŠ¡å™¨<br><code>--dns-search=[]</code> è®¾ç½®dockerè¦ä½¿ç”¨çš„DNSæœç´¢åŸŸã€‚è‹¥è®¾ç½®ä¸ºï¼šexample.comï¼Œåˆ™å‘æœåŠ¡å™¨æŸ¥è¯¢helloæ—¶ï¼Œå°†é¦–å…ˆæŸ¥æ‰¾hello.example.com<br><code>-eã€--exec-drive=&quot;native&quot;</code> è®¾ç½®dockerè¿è¡Œé©±åŠ¨ï¼Œå¯è®¾ç½®ä¸ºNativeä¸lxc<br><code>--fixed-cidr=&quot;&quot;</code> å›ºå®šåˆ†é…IPv4åœ°å€çš„å¸¦å®½ã€‚è¯¥IPåœ°å€å¿…é¡»åœ¨-bé€‰é¡¹è®¾ç½®çš„ç½‘æ¡¥ç½‘ç»œæˆ–â€“bipè®¾ç½®çš„IPç½‘æ®µå†…<br><code>-Gã€--group=&quot;docker&quot;</code> ä»¥å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼è¿è¡Œæ—¶ï¼Œä½¿ç”¨-Hé€‰é¡¹åˆ›å»ºUnixå¥—æ¥å­—åï¼Œè®¾ç½®è¯¥Unixå¥—æ¥å­—æ‰€åœ¨çš„ç»„ã€‚ä½¿ç”¨â€â€ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºä¸è®¾ç½®åˆ†ç»„<br><code>-gã€ --graph=&quot;/var/lib/docker&quot;</code> è®¾ç½®dockerä½¿ç”¨ç›®å½•çš„é¡¶å±‚è·¯å¾„<br>-Hã€â€“host[] ä»¥å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼è¿è¡Œæ—¶ï¼Œè®¾ç½®å¥—æ¥å­—è·¯å¾„ã€‚ls</p>
<p>â€“icc=true å¼€å¯å®¹å™¨é—´é€šä¿¡<br>â€“insecure-registry=[] ä½¿ç”¨ç§æœ‰è¯ä¹¦æ­å»ºdockeræ³¨å†ŒæœåŠ¡å™¨æ—¶ï¼Œè®¾ç½®dockeræ³¨å†ŒæœåŠ¡å™¨åŸŸå<br>â€“ip=0.0.0.0 ä½¿ç”¨docker run å‘½ä»¤æ—¶-pé€‰é¡¹å°†ç«¯å£æš´éœ²åœ¨å¤–æ—¶ï¼Œè®¾ç½®è¦ç»‘å®šçš„é»˜è®¤IPåœ°å€<br>â€“ip-forward=true å¼€å¯net.ipv4.ip_forward<br>â€“ip-masq=true ä¸ºç½‘æ¡¥ä¸Šçš„IPåœ°å€å¼€å¯IPä¼ªè£…ï¼ˆmasqueradingï¼‰<br>â€“iptables=true å¼€å¯iptablesè§„åˆ™<br>â€“mtu=0 è®¾ç½®å®¹å™¨çš„ç½‘ç»œæœ€å¤§ä¼ è¾“å•å…ƒï¼ˆMTU, Maxmum transmission unitï¼‰è‹¥ä¸è®¾ç½®ï¼Œåˆ™ä½¿ç”¨è·¯ç”±å™¨çš„é»˜è®¤MTUæˆ–è€…è®¾ç½®ä¸º1500<br>-pã€â€“pidfile=â€/var/run/docker.pidâ€ è®¾ç½®PIDæ–‡ä»¶è·¯å¾„<br>-registry-mirror=[] è®¾ç½®docker registry çš„é•œåƒåœ°å€<br>-sã€â€“storage-driver=[] è®¾ç½®å‚¨å­˜é©±åŠ¨ï¼Œé»˜è®¤ä¸ºautoï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸ºdrivcemapper<br>â€“selinux-enabled=falseå¼€å¯SELinux SELinuxå°šä¸æ”¯æŒBTRFSå‚¨å­˜é©±åŠ¨<br>â€“storage-opt è®¾ç½®å­˜å‚¨é©±åŠ¨é€‰é¡¹<br>â€“tls=false ä½¿ç”¨TLS<br>â€“tlscacert=â€/home/exapmleuser/.docker/ca.pemâ€ è®¾ç½®è¦åœ¨è¿œç¨‹è¯ä¹¦ä¸­ä½¿ç”¨çš„CAè¯ä¹¦æ–‡ä»¶çš„è·¯å¾„<br>â€“tlscert=â€/home/exapmleuser/.docker/cert.pemâ€ è®¾ç½®è¯ä¹¦æ–‡ä»¶è·¯å¾„<br>â€“tlskey=â€/home/exapmleuser/.docker/key.pemâ€ è®¾ç½®å¯†åŒ™æ–‡ä»¶è·¯å¾„<br>tlsverify=â€falseâ€ ä½¿ç”¨TLSè¿œç¨‹è¯ä¹¦ï¼Œå®ˆæŠ¤è¿›ç¨‹ä¸å®¢æˆ·ç«¯å…¨éƒ¨ä½¿ç”¨è¯ä¹¦éªŒè¯<br>-vã€â€“version=false æ‰“å°ç‰ˆæœ¬ä¿¡æ¯</p>
<h1 id="attachå‘½ä»¤"><a href="#attachå‘½ä»¤" class="headerlink" title="attachå‘½ä»¤"></a>attachå‘½ä»¤</h1><blockquote>
<p>attachå‘½ä»¤ç”¨äºå°†æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰ä¸æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰è¿æ¥åˆ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨<br>docker attach &lt;é€‰é¡¹&gt;&lt;å®¹å™¨åç§°, id&gt;</p>
</blockquote>
<p>â€“no-stdin=false ä¸è¿æ¥æ ‡å‡†è¾“å…¥<br>â€“sig-proxy=true å°†æ‰€æœ‰ä¿¡å·ä¼ é€’ç»™è¿›ç¨‹ï¼ˆéTTYæ¨¡å¼æ—¶ä¹Ÿä¸€æ ·ï¼‰ä½†ä¸ä¼ é€SIGCHLDã€SIGKILLã€SIGSTOPä¿¡å·ã€‚ç»å¸¸ä½¿ç”¨çš„ä¿¡å·å¦‚ä¸‹ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">SIGINTï¼šinterruptä¿¡å·ï¼Œè¾“å…¥Ctrl + c æ—¶å‘ç”Ÿ</div><div class="line">SIGQUITï¼šQuitä¿¡å·ï¼Œè¾“å…¥Ctrl + \ æ—¶å‘ç”Ÿ</div><div class="line">EOFï¼šç»ˆæ­¢attachçŠ¶æ€ï¼Œè¾“å…¥Ctrl + d æ—¶å‘ç”Ÿ</div></pre></td></tr></table></figure></p>
<p>ä¸€èˆ¬ä¼šå…ˆè¿è¡ŒBashç­‰shellï¼Œç„¶åä½¿ç”¨docker attach å‘½ä»¤è¿æ¥åˆ°å®¹å™¨ï¼Œåœ¨è¿è¡Œå„ç§å‘½ä»¤<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">docker run -it --name hello ubuntu /bin/bash</div><div class="line">docker attach hello</div></pre></td></tr></table></figure></p>
<h1 id="build-å‘½ä»¤"><a href="#build-å‘½ä»¤" class="headerlink" title="build å‘½ä»¤"></a>build å‘½ä»¤</h1><blockquote>
<p>buildå‘½ä»¤ä½¿ç”¨Dockerfileæ–‡ä»¶åˆ›å»ºé•œåƒ<br>docker build &lt;é€‰é¡¹&gt;<dockerfileè·¯å¾„></dockerfileè·¯å¾„></p>
</blockquote>
<p>Dockerfile è·¯å¾„å¯ä»¥ä½¿æ˜¯æœ¬åœ°è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯URLè·¯å¾„ã€‚è‹¥è®¾ç½®ä¸º - ï¼Œåˆ™ä»æ ‡å‡†è¾“å…¥è·å–Dockerfileçš„å†…å®¹<br>â€“force-rm=false åˆ›å»ºé•œåƒå¤±è´¥æ—¶ï¼Œåˆ é™¤ä¸´æ—¶å®¹å™¨<br>â€“no-cache=false ä¸ä½¿ç”¨ä¹‹å‰æ„å»ºä¸­åˆ›å»ºçš„ç¼“å­˜ã€‚<br>-qã€â€“quiet=false ä¸æ˜¾ç¤ºDockerfileçš„RUNè¿è¡Œçš„è¾“å‡ºç»“æœ<br>â€“rm=true åˆ›å»ºé•œåƒæˆåŠŸæ—¶ï¼Œåˆ é™¤ä¸´æ—¶å®¹å™¨<br>-tã€â€“tag=â€â€ è®¾ç½®æ³¨å†Œåç§°ã€é•œåƒåç§°ã€æ ‡ç­¾ã€‚æ ¼å¼ä¸º &lt;æ³¨å†Œåç§°&gt;/&lt;é•œåƒåç§°&gt;:&lt;æ ‡ç­¾&gt;ï¼ˆæ ‡ç­¾é»˜è®¤ä¸ºlatestï¼‰</p>
<h1 id="commit-å‘½ä»¤"><a href="#commit-å‘½ä»¤" class="headerlink" title="commit å‘½ä»¤"></a>commit å‘½ä»¤</h1><blockquote>
<p>commitå‘½ä»¤ç”¨äºä»å®¹å™¨çš„ä¿®æ”¹é¡¹åˆ›å»ºæ˜¾å¾—é•œåƒ<br>docker commit &lt;é€‰é¡¹&gt;&lt;å®¹å™¨åç§°ï¼Œid&gt;/&lt;é•œåƒåç§°&gt;:&lt;æ ‡ç­¾&gt;</p>
</blockquote>
<p>-aã€â€“author=â€â€ è®¾ç½®å¥–é¡¹åˆ›å»ºè€…çš„æœ‰å…³ä¿¡æ¯<br>-mã€â€“message=â€â€ è®¾ç½®æœ‰å…³å˜æ›´äº‹é¡¹çš„æ—¥å¿—ä¿¡æ¯<br>-pã€â€“pause=true åˆ›å»ºé•œåƒæ˜¯æš‚åœå®¹å™¨</p>
<h1 id="cp-å‘½ä»¤"><a href="#cp-å‘½ä»¤" class="headerlink" title="cp å‘½ä»¤"></a>cp å‘½ä»¤</h1><blockquote>
<p>cpå‘½ä»¤ç”¨äºå°†å®¹å™¨çš„ç›®å½•æˆ–æ–‡ä»¶å¤åˆ¶çš„åˆ°ä¸»æœºã€‚è‹¥å°†cpå‘½ä»¤ä¸­çš„è·¯å¾„è®¾ç½®ä¸ºç›®å½•ï¼Œåˆ™å°†è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ°ä¸»æœº</p>
</blockquote>
<p>docker cp &lt;å®¹å™¨åç§°&gt;:&lt;è·¯å¾„&gt;&lt;ä¸»æœºè·¯å¾„&gt;<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ docker cp hello:/etc . å°†å®¹å™¨å†…çš„æ•´ä¸ª/etc ç›®å½•å¤åˆ¶åˆ°ä¸»æœºå½“å‰æ–‡ä»¶å¤¹ä¸‹</div></pre></td></tr></table></figure></p>
<h1 id="create-å‘½ä»¤"><a href="#create-å‘½ä»¤" class="headerlink" title="create å‘½ä»¤"></a>create å‘½ä»¤</h1><blockquote>
<p>create å‘½ä»¤ä½¿ç”¨æŒ‡å®šçš„é•œåƒåˆ›å»ºå®¹å™¨ã€‚ä¸runå‘½ä»¤ä¸åŒï¼Œä½¿ç”¨createå‘½ä»¤åªèƒ½åˆ›å»ºå®¹å™¨è€Œå¹¶ä¸å¯åŠ¨<br>docker create &lt;é€‰é¡¹&gt;&lt;é•œåƒåç§°,id&gt;&lt;å‘½ä»¤&gt;&lt;å‚æ•°&gt;</p>
</blockquote>
<p>-a ã€â€“attach=[] å°†æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºã€æ ‡å‡†é”™è¯¯é“¾æ¥åˆ°å®¹å™¨<br>â€“attach=â€stdinâ€</p>
<p>â€“add-host=[] å‘å®¹å™¨çš„/etc/hostsæ·»åŠ ä¸»æœºåä¸IPåœ°å€<br>â€“add-host=hello:192.168.0.233</p>
<p>-Cã€â€“cpu-shares=0 è®¾ç½®cupèµ„æºåˆ†é…ã€‚é»˜è®¤æ˜¯è¿™å€¼ä¸º1024ï¼Œå„å€¼ä¸ºç›¸å¯¹å€¼<br>è‹¥è®¾ç½®ä¸ºâ€“cpu-shares=2048, åˆ™åˆ†é…é»˜è®¤å€¼ä¸º2å€çš„CPUèµ„æº<br>åœ¨Linuxå†…æ ¸çš„cgroupsä¸­ä½¿ç”¨è¯¥è®¾ç½®çš„å€¼<br>â€“cap-add[] è®¾ç½®å®¹å™¨ä¸­ä½¿ç”¨çš„cgroupsçš„ç‰¹å®šCapablityã€‚è‹¥è®¾ç½®ä¸ºALLï¼Œåˆ™ä½¿ç”¨æ‰€æœ‰çš„Capablity<br>â€“cap-drop=[] ä»å®¹å™¨åˆ é™¤cgroupçš„ç‰¹å®šCapablity<br>â€“cidfile=â€â€ è®¾ç½®cidæ–‡ä»¶è·¯å¾„ã€‚cidä¸­å­˜å‚¨ç€æ‰€åˆ›å»ºå®¹å™¨çš„id<br>â€“cpuset=â€â€ åœ¨å¤šæ ¸CPUä¸­è®¾ç½®è¦è¿è¡Œå®¹å™¨çš„æ ¸å¿ƒæ•°<br>è‹¥è®¾ç½®â€“cpuset=â€0,1â€ åˆ™ä½¿ç”¨ç¬¬ä¸€ä¸ç¬¬äºŒä¸ªcup<br>è‹¥è¿™æ˜¯â€“cupset=â€0-2â€ åˆ™ä½¿ç”¨ä»ç¬¬ä¸€åˆ°ç¬¬ä¸‰ä¸ªcup<br>â€“device=[] æ·»åŠ ä¸»æœºè®¾å¤‡åˆ°å®¹å™¨ï¼Œæ ¼å¼ä¸º&lt;ä¸»æœºè®¾å¤‡&gt;:&lt;å®¹å™¨è®¾å¤‡&gt;<br>è‹¥è®¾ç½®ä¸º â€“device=â€/dev/sda1:/dev/sda1â€,åˆ™åœ¨å®¹å™¨ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸»æœºçš„/dev/sda1å—è®¾å¤‡</p>
<p>â€“dns=[] è®¾ç½®å®¹å™¨ä¸­è¦ç”¨åˆ°çš„DNSæœåŠ¡å™¨<br>â€“dns-search=[] è®¾ç½®dockerè¦ä½¿ç”¨çš„DNSæœç´¢åŸŸã€‚<br>-eã€â€“env=[] å‘å®¹å™¨è®¾ç½®ç¯å¢ƒå˜é‡ã€‚ä¸€èˆ¬ç”¨äºä¼ é€’è®¾ç½®æˆ–è€…å¯†ç <br>å¦‚ï¼š-e MYSQL_ROOT_PASSWORD=root<br>â€“entrypoint=â€â€ å¿½ç•¥Dockerfileçš„ENTRYPOINTè®¾ç½®ï¼Œå¼ºåˆ¶è®¾ç½®ä¸ºå…¶ä»–å€¼ã€‚<br>å¦‚ï¼šâ€“entrypoint=â€/bin/bashâ€<br>â€“env-file=[] å‘å®¹å™¨åº”ç”¨è®¾ç½®ç¯å¢ƒå˜é‡æ–‡ä»¶<br>â€“expose=[] ä»…è¿æ¥å®¹å™¨çš„ç«¯å£ä¸ä¸»æœºï¼Œå¹¶ä¸æš´éœ²åœ¨å¤–<br>â€“expose=â€3306â€<br>-hã€â€“hostname=â€â€ è®¾ç½®å®¹å™¨ä¸»æœºå<br>-iã€â€“interactive=false æ¿€æ´»æ ‡å‡†è¾“å…¥ï¼Œå³ä½¿æœªä¸å®¹å™¨è¿æ¥ï¼ˆattachï¼‰ï¼Œä¹Ÿç»´æŒæ ‡å‡†è¾“å…¥ã€‚ä¸€èˆ¬ä½¿ç”¨è¯¥é€‰é¡¹å‘Bashè¾“å…¥å‘½ä»¤<br>â€“link=[] è¿›è¡Œå®¹å™¨è¿æ¥ï¼Œæ ¼å¼ä¸º&lt;å®¹å™¨åç§°&gt;:&lt;åˆ«å&gt;<br>â€“link mysql-server:mysql</p>
<p>â€“lxc-conf=[] è‹¥ä½¿ç”¨LXCé©±åŠ¨ï¼Œåˆ™å¯ä»¥è®¾ç½®LXCé€‰é¡¹<br>â€“lxc-conf=â€lxc.cgroup.cpuset.cpu = 0,1â€    </p>
<p>-mã€â€“memory=â€â€ è®¾ç½®å†…å­˜é™åˆ¶ï¼Œæ ¼å¼ä¸º&lt;æ•°å­—&gt;&lt;å•ä½&gt;ï¼Œå•ä½å¯ä»¥ä½¿ç”¨b,k,m,g<br>â€“memory=â€512mâ€<br>â€“name è®¾ç½®å®¹å™¨åç§°<br>â€“net=â€bridgeâ€ è®¾ç½®å®¹å™¨çš„ç½‘ç»œæ¨¡å¼ï¼ˆé€‰é¡¹å¯ä»¥æ˜¯ï¼šbridge,none,container,hostï¼‰<br>-Pã€â€“publish-all=false å°†è¿æ¥åˆ°ä¸»æœºçš„å®¹å™¨çš„æ‰€æœ‰ç«¯å£æš´éœ²åœ¨å¤–<br>-pã€â€“publish=[] å°†è¿æ¥åˆ°ä¸»æœºçš„å®¹å™¨çš„ç‰¹å®šç«¯å£æš´éœ²åœ¨å¤–ã€‚ä¸€èˆ¬ä¸»è¦ç”¨äºæš´éœ²webæœåŠ¡å™¨çš„ç«¯å£<br>â€“privileged=false åœ¨å®¹å™¨å†…éƒ¨ä½¿ç”¨ä¸»æœºçš„æ‰€æœ‰Linuxå†…æ ¸åŠŸèƒ½<br>â€“restart=â€â€ è®¾ç½®å®¹å™¨å†…éƒ¨è¿›ç¨‹ç»ˆæ­¢æ—¶é‡å¯ç­–ç•¥<br>â€“restart=no å³ä½¿è¿›ç¨‹ç»ˆæ­¢ä¹Ÿä¸é‡å¯<br>â€“restart=â€on-failureâ€ ä»…å½“è¿›ç¨‹çš„Exit Code ä¸ä¸º0æ—¶æ‰§è¡Œé‡å¯ã€‚ä¹Ÿå¯ä»¥è®¾ç½®é‡ç½®æ¬¡æ•°ã€‚è‹¥ä¸è®¾ç½®é‡è¯•æ¬¡æ•°ï¼Œè¿™ä¸æ–­é‡å¯ã€‚å¦‚ â€“restart=â€no-failure:10â€<br>â€“restart=â€alwaysâ€ ä¸å—Exit Codeçš„å½±å“ï¼Œæ€»æ˜¯é‡å¯<br>â€“security-opt=[] è®¾ç½®SELinuxã€AppArmor é€‰é¡¹<br>-tã€â€“tty=false ä½¿ç”¨TTYæ¨¡å¼ï¼ˆpseudo-TTYï¼‰ã€‚è‹¥è¦ä½¿ç”¨Bashï¼Œåˆ™å¿…é¡»è®¾ç½®è¯¥é€‰é¡¹ã€‚è‹¥ä¸è®¾ç½®è¯¥é€‰é¡¹ï¼Œåˆ™å¯ä»¥è¾“å…¥å‘½ä»¤ï¼Œä½†ä¸æ˜¾ç¤ºshell<br>-uã€â€“user=â€â€ è®¾ç½®å®¹å™¨è¿è¡Œæ—¶è¦ä½¿ç”¨çš„Linuxç”¨æˆ·è´¦æˆ·ä¸UID<br>-vã€â€“volume=[] è®¾ç½®æ•°æ®å·ã€‚è®¾ç½®è¦ä¸ä¸»æœºå…±äº«ç›®å½•ï¼Œä¸å°†æ–‡ä»¶ä¿å­˜åˆ°å®¹å™¨ï¼Œè€Œç›´æ¥ä¿å­˜åˆ°ä¸»æœºã€‚åœ¨ä¸»æœºç›®å½•åæ·»åŠ  :roã€:rwè¿›è¡Œè¯»å†™è®¾ç½®ï¼Œé»˜è®¤ä¸º:rwã€‚<br>â€“volumes-from=[] è¿æ¥æ•°æ®å·å®¹å™¨ï¼Œè®¾ç½®æ ¼å¼ä¸º&lt;å®¹å™¨åï¼Œid&gt;:&lt;:ro, :rw&gt; é»˜è®¤æƒ…å½¢ä¸‹ï¼Œè¯»å†™è®¾ç½®éµä»-vé€‰é¡¹çš„è®¾ç½®ã€‚<br>-wã€â€“workdir=â€â€ è®¾ç½®å®¹å™¨å†…éƒ¨è¦è¿è¡Œè¿›ç¨‹çš„ç›®å½•<br>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºå®¹å™¨<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$ docker create -it --name hello ubuntu /bin/bash</div><div class="line">è‹¥æƒ³ä½¿ç”¨åˆšåˆšåˆ›å»ºçš„å®¹å™¨ï¼Œåˆ™å¿…é¡»ä½¿ç”¨docker start å‘½ä»¤å¯åŠ¨å®¹å™¨</div><div class="line">$ docker start hello</div><div class="line">è¿›å…¥å®¹å™¨å†…éƒ¨</div><div class="line">$ docker attach hello</div><div class="line">Â·Â·Â·</div><div class="line"><span class="comment"># diff å‘½ä»¤</span></div><div class="line">&gt; diffå‘½ä»¤ç”¨äºæ£€æŸ¥å®¹å™¨æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹</div><div class="line">&gt; docker diff &lt;å®¹å™¨åç§°ï¼Œid&gt;</div><div class="line"></div><div class="line">æ¯”è¾ƒæ–‡ä»¶æ˜¯å¦ä¿®æ”¹çš„æ ‡å‡†æ˜¯å®¹å™¨åˆ›å»ºæ—¶çš„é•œåƒå†…å®¹</div><div class="line">Aï¼šæ·»åŠ çš„æ–‡ä»¶</div><div class="line">Cï¼šä¿®æ”¹çš„æ–‡ä»¶</div><div class="line">Dï¼šåˆ é™¤çš„æ–‡ä»¶</div><div class="line"><span class="comment"># events å‘½ä»¤</span></div><div class="line">&gt; eventså‘½ä»¤ç”¨äºå®æ—¶è¾“å‡ºDockeræœåŠ¡å™¨ä¸­å‘ç”Ÿçš„äº‹ä»¶</div><div class="line">```sh</div><div class="line">docker events</div></pre></td></tr></table></figure></p>
<p>â€“since=â€â€ è¾“å‡ºç‰¹å®šçš„timestampä¹‹åçš„äº‹ä»¶<br>â€“until=â€â€ è¾“å‡ºç‰¹å®šçš„timestampä¹‹å‰çš„äº‹ä»¶<br>è¿è¡Œdocker eventså‘½ä»¤ï¼Œè¿›å…¥å¾…æœºçŠ¶æ€<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ docker events</div></pre></td></tr></table></figure></p>
<p>åœ¨å¦ä¸€ç»ˆç«¯ï¼Œè¿è¡Œå®¹å™¨<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ docker start hello <span class="comment">#å‡è®¾å®¹å™¨å·²å­˜åœ¨</span></div></pre></td></tr></table></figure></p>
<p>å°±ä¼šåœ¨åˆšåˆšçš„docker events å‘½ä»¤çª—å£çœ‹åˆ° è¿è¡Œhello å®¹å™¨çš„äº‹ä»¶</p>
<h1 id="exec-å‘½ä»¤"><a href="#exec-å‘½ä»¤" class="headerlink" title="exec å‘½ä»¤"></a>exec å‘½ä»¤</h1><blockquote>
<p>execå‘½ä»¤ç”¨äºä»å¤–éƒ¨è¿è¡Œå®¹å™¨å†…éƒ¨çš„å‘½ä»¤<br>docker exec &lt;é€‰é¡¹&gt;&lt;å®¹å™¨åç§°ï¼Œid&gt;&lt;å‘½ä»¤&gt;&lt;å‚æ•°&gt;</p>
</blockquote>
<p>-dã€â€“detach=false ä»¥åå°æ¨¡å¼è¿è¡Œå‘½ä»¤<br>-iã€â€“interactive=false å¼€å¯æ ‡å‡†è¾“å…¥ï¼Œå³ä½¿æœªä¸å®¹å™¨è¿æ¥ï¼Œä¹Ÿç»´æŒæ ‡å‡†è¾“å…¥<br>-tã€â€“tty=false ä½¿ç”¨TTYæ¨¡å¼ï¼ˆpseudo-TTYï¼‰è‹¥è¦ä½¿ç”¨bashï¼Œåˆ™å¿…é¡»è®¾ç½®è¯¥é€‰é¡¹ã€‚è‹¥ä¸è®¾ç½®è¯¥é€‰é¡¹ï¼Œåˆ™è™½ç„¶è¾“å…¥å‘½ä»¤ï¼Œä½†ä¸æ˜¾ç¤ºshell<br>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºå®¹å™¨<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ docker run <span class="_">-d</span> --name hello ubuntu /bin/bash -c <span class="string">"while true; do echo Hello World; sleep 1; done"</span></div><div class="line">è®¾ç½®æ¯éš”ä¸€ç§’è¾“å‡ºä¸€æ¬¡hello worldã€‚åœ¨æ­¤çŠ¶æ€ä¸‹ï¼Œè¿è¡Œå®¹å™¨å†…éƒ¨çš„/bin/bash,è¿æ¥è‡³bash shell ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚è¿æ¥bash shell æ—¶ï¼Œåªæœ‰ä½¿ç”¨ -i -t é€‰é¡¹æ‰èƒ½è¾“å…¥å‘½ä»¤å¹¶æŸ¥çœ‹ç»“æœ</div><div class="line">$ docker <span class="built_in">exec</span> -it hello /bin/bash  <span class="comment">#è¿æ¥å®¹å™¨</span></div><div class="line">$ ps ax  <span class="comment"># æŸ¥çœ‹è¿›ç¨‹</span></div></pre></td></tr></table></figure></p>
<p>è‹¥åœ¨å®¹å™¨å†…éƒ¨è¿è¡Œps ax å‘½ä»¤ï¼Œåˆ™å¯ä»¥çœ‹åˆ°ç”±docker exec å‘½ä»¤è¿è¡Œçš„å…¶ä»–/bin/bashï¼Œä¸è¾“å‡ºhello world çš„/bin/bash ä¸æ˜¯åŒä¸€ä¸ªã€‚è¾“å…¥exitå‘½ä»¤é€€å‡ºBash shellåï¼Œå®¹å™¨ä¸ä¼šåœæ­¢ï¼Œè€Œä¼šç»§ç»­è¿è¡Œã€‚åƒè¿™æ ·ï¼Œçµæ´»ä½¿ç”¨ docker exec å‘½ä»¤å°†Bash shell è¿æ¥åˆ°æ­£åœ¨è¿è¡Œå®ˆæŠ¤è¿›ç¨‹çš„å®¹å™¨ä¸Šï¼Œå¹¶è¡Œå¤šç§æ“ä½œ<br>å¦‚ä¸‹ï¼šä¸è¿æ¥Bash shellï¼Œè€Œä½¿ç”¨apt-getç­‰å‘½ä»¤ï¼Œåœ¨å®¹å™¨å†…å®‰è£…redis-serveråŒ…ï¼Œ<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ docker <span class="built_in">exec</span> hello apt-get update</div><div class="line">$ docker <span class="built_in">exec</span> hello apt-get install -y redis-server</div><div class="line">$ docker <span class="built_in">exec</span> <span class="_">-d</span> hello redis-server <span class="comment"># åå°è¿è¡Œrides-server</span></div></pre></td></tr></table></figure></p>
<h1 id="export-å‘½ä»¤"><a href="#export-å‘½ä»¤" class="headerlink" title="export å‘½ä»¤"></a>export å‘½ä»¤</h1><blockquote>
<p>exportå‘½ä»¤å°†ç”¨äºå°†å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿå¯¼å‡ºä¸ºtaræ–‡ä»¶åŒ…</p>
</blockquote>
<p>docker export &lt;å®¹å™¨åç§°ï¼Œid&gt;<br>åªè¿è¡Œdocker export å‘½ä»¤åï¼Œç”±äºå®¹å™¨çš„å†…å®¹ä¼šè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼Œæ‰€ä»¥å¿…é¡»è®¾ç½®é‡å®šå‘<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ docker run -it <span class="_">-d</span> --name hello ubuntu /bin/bash</div><div class="line">$ docker <span class="built_in">export</span> hello &gt; hello.tar</div></pre></td></tr></table></figure></p>
<h1 id="history-å‘½ä»¤"><a href="#history-å‘½ä»¤" class="headerlink" title="history å‘½ä»¤"></a>history å‘½ä»¤</h1><blockquote>
<p>history å‘½ä»¤ç”¨äºæ˜¾ç¤ºé•œåƒçš„å†å²ã€‚æ­¤å¤„çš„å†å²ä¾æ®Dockerfileæ–‡ä»¶ä¸­çš„è®¾ç½®åˆ›å»ºã€‚<br>docker history &lt;é€‰é¡¹&gt;&lt;é•œåƒåç§°ï¼Œid&gt;</p>
</blockquote>
<p>â€“no-trunc=false è¾“å‡ºæ‰€æœ‰å› å†…å®¹è¿‡é•¿è€Œçœç•¥çš„éƒ¨åˆ†<br>-qã€â€“quiet=false åªæ˜¾ç¤ºé•œåƒid</p>
<h1 id="images-å‘½ä»¤"><a href="#images-å‘½ä»¤" class="headerlink" title="images å‘½ä»¤"></a>images å‘½ä»¤</h1><blockquote>
<p>imageså‘½ä»¤ç”¨äºè¾“å‡ºé•œåƒåˆ—è¡¨<br>docker images &lt;é€‰é¡¹&gt;&lt;é•œåƒåç§°ï¼Œid&gt;</p>
</blockquote>
<p>-aã€â€“all=false åˆ—å‡ºæ‰€æœ‰é•œåƒï¼ŒåŒ…æ‹¬çˆ¶é•œåƒ<br>-fã€â€“filter=[] è®¾ç½®è¾“å‡ºç»“æœè¿‡æ»¤ã€‚è‹¥è®¾ç½®ä¸ºâ€dangling=trueâ€ï¼Œåˆ™åªè¾“å‡ºæ— åé•œåƒ<br>â€“no-trunc=false æ˜¾ç¤ºæ‰€æœ‰å› å†…å®¹è¿‡é•¿è€Œçœç•¥çš„éƒ¨åˆ†</p>
<h1 id="import-å‘½ä»¤"><a href="#import-å‘½ä»¤" class="headerlink" title="import å‘½ä»¤"></a>import å‘½ä»¤</h1><blockquote>
<p>importå‘½ä»¤ç”¨äºä»å‹ç¼©ä¸ºtaræ–‡ä»¶ï¼ˆ.tar .tar.gz .tgz .bzip .tar.xz .txzï¼‰çš„æ–‡ä»¶ç³»ç»Ÿåˆ›å»ºé•œåƒ<br>docker import <taræ–‡ä»¶çš„urlæˆ–è€… -="">&lt;æ³¨å†Œåç§°&gt;/&lt;é•œåƒåç§°&gt;:&lt;æ ‡ç­¾&gt;</taræ–‡ä»¶çš„urlæˆ–è€…></p>
</blockquote>
<p>ä½¿ç”¨importå‘½ä»¤æ—¶ï¼Œå¯ä»¥è®¾ç½®taræ–‡ä»¶çš„URLï¼Œè‹¥è®¾ç½®ä¸º - ï¼Œåˆ™ä»æ ‡å‡†è¾“å…¥æ¥æ”¶taræ–‡ä»¶çš„å†…å®¹ã€‚æ—¢å¯ä»¥ä½¿ç”¨ç”±docker export å‘½ä»¤åˆ›å»ºçš„taræ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç»„ç»‡æ–‡ä»¶ç³»ç»Ÿã€‚<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ docker import http://example.com/hello.tar.zg hello</div></pre></td></tr></table></figure></p>
<p>ä¸‹åˆ—å‘½ä»¤ä¸­ä½¿ç”¨æœ¬åœ°çš„ hello.tar æ–‡ä»¶çš„å†…å®¹é€šè¿‡ç®¡é“ä¼ é€’ç»™ docker import å‘½ä»¤<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cat hello.tar | docker import - hello</div></pre></td></tr></table></figure></p>
<p>è‹¥æƒ³å°†å½“å‰ç›®å½•çš„å†…å®¹ç›´æ¥åˆ›å»ºä¸ºé•œåƒï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ tar -c . | docker import - hello</div></pre></td></tr></table></figure></p>
<h1 id="info-å‘½ä»¤"><a href="#info-å‘½ä»¤" class="headerlink" title="info å‘½ä»¤"></a>info å‘½ä»¤</h1><blockquote>
<p>infoå‘½ä»¤ç”¨äºæ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¿¡æ¯ã€dockerå®¹å™¨ã€é•œåƒä¸ªæ•°ã€è®¾ç½®ç­‰ä¿¡æ¯ã€‚</p>
</blockquote>
<p>docker info<br>inspect å‘½ä»¤<br>inspect å‘½ä»¤ç”¨äºä»¥JSONæ ¼å¼æ˜¾ç¤ºå®¹å™¨ä¸é•œåƒçš„è¯¦ç»†ä¿¡æ¯<br>docker inspect &lt;é€‰é¡¹&gt;&lt;å®¹å™¨æˆ–é•œåƒåç§°ï¼Œid&gt;<br>-fã€â€“format=â€â€ åªæ˜¾ç¤ºæŒ‡å®šä¿¡æ¯ã€‚å¦‚ï¼šâ€{{.NetworkSettings.IPAddress}}â€œ ä½¿ç”¨ . æ¥è®¾ç½®JSONæ–‡æ¡£çš„ä¸‹å±‚é¡¹ç›®<br>ä¸‹é¢å‘½ä»¤æ˜¾ç¤ºå®¹å™¨çš„IPåœ°å€<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ docker run -it <span class="_">-d</span> --name hello ubuntu /bin/bash</div><div class="line">$ docker inspect <span class="_">-f</span> <span class="string">"&#123;&#123;.NetworkSettings.IPAddress&#125;&#125;"</span> hello</div></pre></td></tr></table></figure></p>
<p>ä¸‹é¢å‘½ä»¤åªä»å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯ä¸­æŠ½å–ç‰¹å®šéƒ¨åˆ†ï¼Œå¹¶æŒ‰ç…§æ‰€å¸Œæœ›çš„æ ¼å¼æ˜¾ç¤º<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ docker run -it <span class="_">-d</span> --name hello -p 8000:80 -p 8080:8080 ubuntu /bin/bash</div><div class="line">$ docker inspect <span class="_">-f</span> <span class="string">'&#123;&#123;range $p, $conf := .NetworkSettings.Ports&#125;&#125; &#123;&#123;$p&#125;&#125; -&gt; &#123;&#123;(index $conf 0).HostPort&#125;&#125; &#123;&#123;end&#125;&#125;'</span> hello</div></pre></td></tr></table></figure></p>
<p>æ­¤å¤„ä½¿ç”¨ {{range $p, $conf := .NetworkSettings.Ports}} å¾ªç¯è®¿é—® .NetworkSettings.Ports çš„å€¼ï¼Œå¹¶ä»£å…¥ $p $confã€‚ç„¶åè¾“å‡º$p,å¹¶å°†$confæ•°ç»„çš„ç¬¬ä¸€é¡¹ (index $conf 0) çš„ .HostPort è¾“å‡ºã€‚<br>å¦ï¼š.NetworkSettings.Ports æ˜¯ä¸€ä¸ªmapç±»å‹æ•°æ®ç»“æ„ï¼š<br> map[80/tcp:[{0.0.0.0 8000}] 8080/tcp:[{0.0.0.0 8080}]]</p>
<h1 id="kill-å‘½ä»¤"><a href="#kill-å‘½ä»¤" class="headerlink" title="kill å‘½ä»¤"></a>kill å‘½ä»¤</h1><blockquote>
<p>killå‘½ä»¤ç”¨äºå‘å®¹å™¨å‘é€KILLä¿¡å·ï¼Œä»è€Œå…³é—­å®¹å™¨ï¼ˆæ¨èä½¿ç”¨æ›´ä¼˜é›…æ¸©å’Œçš„ docker stop å‘½ä»¤)<br>docker &lt;é€‰é¡¹&gt;&lt;å®¹å™¨åç§°ï¼Œid&gt;</p>
</blockquote>
<p>-sã€â€“signal=â€KILLâ€ å‘é€ç‰¹å®šä¿¡å·</p>
<h1 id="load-å‘½ä»¤"><a href="#load-å‘½ä»¤" class="headerlink" title="load å‘½ä»¤"></a>load å‘½ä»¤</h1><blockquote>
<p>loadå‘½ä»¤ç”¨äºä»taræ–‡ä»¶åˆ›å»ºé•œåƒ<br>docker load &lt;é€‰é¡¹&gt;</p>
</blockquote>
<p>å°†taræ–‡ä»¶å‘é€åˆ° docker load å‘½ä»¤çš„æ ‡å‡†è¾“å…¥ï¼Œç„¶ååˆ›å»ºé•œåƒã€‚taræ–‡ä»¶ç”± docker save å‘½ä»¤åˆ›å»ºï¼ŒåŒ…å«é•œåƒåç§°ä¸æ ‡ç­¾ã€‚<br>-iã€â€“input=â€â€ ä¸ä½¿ç”¨æ ‡å‡†è¾“å…¥ï¼Œè®¾ç½®æ–‡ä»¶è·¯å¾„å¹¶åˆ›å»ºé•œåƒã€‚<br><code>sh
$ docker save myimages &gt; myimages.tar  #å°†å·²å­˜åœ¨çš„é•œåƒä¿å­˜ä¸ºtaræ–‡ä»¶
$ docker load &lt; myimages.tar  #åœ¨å¦ä¸€å°ç”µè„‘ä»taræ–‡ä»¶åˆ›å»ºé•œåƒ</code>sh</p>
<p>#login å‘½ä»¤</p>
<blockquote>
<p>loginå‘½ä»¤ç”¨äºç™»å½•Docker çš„æ³¨å†ŒæœåŠ¡å™¨<br>docker login &lt;é€‰é¡¹&gt;<docker æ³¨å†ŒæœåŠ¡å™¨çš„url=""></docker></p>
</blockquote>
<p>è‹¥ä¸è®¾ç½®æ³¨å†ŒæœåŠ¡å™¨çš„åœ°å€ï¼Œåˆ™é»˜è®¤ç™»å½•dockerhubï¼ˆapi <a href="https://index.docker.io/v1/ï¼‰" target="_blank" rel="external">https://index.docker.io/v1/ï¼‰</a><br>-eã€â€“email=â€â€ è®¾ç½®ç™»å½•æ—¶ä½¿ç”¨çš„ç”µå­é‚®ä»¶<br>-pã€â€“password=â€â€ è®¾ç½®ç™»å½•å¯†ç <br>-uã€â€“username=â€â€ è®¾ç½®ç™»å½•æ—¶ä½¿ç”¨çš„è´¦å·</p>
<h1 id="logout-å‘½ä»¤"><a href="#logout-å‘½ä»¤" class="headerlink" title="logout å‘½ä»¤"></a>logout å‘½ä»¤</h1><blockquote>
<p>logoutå‘½ä»¤ç”¨äºä»Dockeræ³¨å†ŒæœåŠ¡å™¨ä¸­ç™»å‡º<br>docker logout &lt;é€‰é¡¹&gt;<docker æ³¨å†ŒæœåŠ¡å™¨çš„url=""></docker></p>
</blockquote>
<p>è‹¥ä¸è®¾ç½®æ³¨å†ŒæœåŠ¡å™¨çš„åœ°å€ï¼Œåˆ™é»˜è®¤ä¸ºdockerhubï¼ˆapi <a href="https://index.docker.io/v1/ï¼‰" target="_blank" rel="external">https://index.docker.io/v1/ï¼‰</a></p>
<h1 id="logs-å‘½ä»¤"><a href="#logs-å‘½ä»¤" class="headerlink" title="logs å‘½ä»¤"></a>logs å‘½ä»¤</h1><blockquote>
<p>logså‘½ä»¤ç”¨äºè¾“å‡ºå®¹å™¨æ—¥å¿—<br>docker logs &lt;å®¹å™¨åç§°ï¼Œid&gt;</p>
</blockquote>
<p>-fã€â€“follow=false ä¸€ç›´è¾“å‡ºå®æ—¶æ—¥å¿—<br>-tã€â€“timestamp=false åœ¨ç™»å½•æ—¶æ˜¾ç¤ºæ—¶é—´å€¼<br>â€“tail=â€allâ€ æŒ‡å®šæ•°å­—ï¼Œåªä»æ—¥å¿—ä¸­è¾“å‡ºä¸€å®šä¸ªæ•°</p>
<h1 id="port-å‘½ä»¤"><a href="#port-å‘½ä»¤" class="headerlink" title="port å‘½ä»¤"></a>port å‘½ä»¤</h1><blockquote>
<p>portå‘½ä»¤ç”¨äºæŸ¥çœ‹å®¹å™¨çš„æŸä¸ªç«¯å£æ˜¯å¦å¤„äºå¼€æ”¾çŠ¶æ€<br>docker port &lt;å®¹å™¨åç§°ï¼Œid&gt;&lt;ç«¯å£&gt;</p>
</blockquote>
<h1 id="pause-å‘½ä»¤"><a href="#pause-å‘½ä»¤" class="headerlink" title="pause å‘½ä»¤"></a>pause å‘½ä»¤</h1><blockquote>
<p>pauseå‘½ä»¤ç”¨äºæš‚åœå®¹å™¨ä¸­æ­£åœ¨è¿è¡Œçš„æ‰€æœ‰è¿›ç¨‹<br>docker pause &lt;å®¹å™¨åç§°ï¼Œid&gt;</p>
</blockquote>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Docker/" rel="tag"># Docker</a>
          
            <a href="/tags/Technology/" rel="tag"># Technology</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/01/12/KMPç®—æ³•/" rel="next" title="KMPç®—æ³•">
                <i class="fa fa-chevron-left"></i> KMPç®—æ³•
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/06/11/Dockerå®‰è£…/" rel="prev" title="Dockerå®‰è£…">
                Dockerå®‰è£… <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="zhkui" />
          <p class="site-author-name" itemprop="name">zhkui</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#å‰è¨€"><span class="nav-number">1.</span> <span class="nav-text">å‰è¨€</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dockeråŸºç¡€å‘½ä»¤"><span class="nav-number">2.</span> <span class="nav-text">dockeråŸºç¡€å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#attachå‘½ä»¤"><span class="nav-number">3.</span> <span class="nav-text">attachå‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#build-å‘½ä»¤"><span class="nav-number">4.</span> <span class="nav-text">build å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#commit-å‘½ä»¤"><span class="nav-number">5.</span> <span class="nav-text">commit å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#cp-å‘½ä»¤"><span class="nav-number">6.</span> <span class="nav-text">cp å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#create-å‘½ä»¤"><span class="nav-number">7.</span> <span class="nav-text">create å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#exec-å‘½ä»¤"><span class="nav-number">8.</span> <span class="nav-text">exec å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#export-å‘½ä»¤"><span class="nav-number">9.</span> <span class="nav-text">export å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#history-å‘½ä»¤"><span class="nav-number">10.</span> <span class="nav-text">history å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#images-å‘½ä»¤"><span class="nav-number">11.</span> <span class="nav-text">images å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#import-å‘½ä»¤"><span class="nav-number">12.</span> <span class="nav-text">import å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#info-å‘½ä»¤"><span class="nav-number">13.</span> <span class="nav-text">info å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#kill-å‘½ä»¤"><span class="nav-number">14.</span> <span class="nav-text">kill å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#load-å‘½ä»¤"><span class="nav-number">15.</span> <span class="nav-text">load å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#logout-å‘½ä»¤"><span class="nav-number">16.</span> <span class="nav-text">logout å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#logs-å‘½ä»¤"><span class="nav-number">17.</span> <span class="nav-text">logs å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#port-å‘½ä»¤"><span class="nav-number">18.</span> <span class="nav-text">port å‘½ä»¤</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#pause-å‘½ä»¤"><span class="nav-number">19.</span> <span class="nav-text">pause å‘½ä»¤</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-zhakui"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhkui</span>
</div>



        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
